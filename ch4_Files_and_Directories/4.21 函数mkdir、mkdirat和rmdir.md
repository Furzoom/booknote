# 函数mkdir、mkdirat和rmdir

mkdir和mkdirat用于创建目录，rmdir函数删除目录。

```c
#include <sys/stat.h>
#include <sys/types.h>
// create a directory
int mkdir(const char *pathname, mode_t mode);
int mkdirat(int fd, const char *pathname, mode_t mode);
```

* 成功返回0，失败返回-1。
* 这两个函数创建一个新的空目录，其中`.`和`..`目录项是自动创建的。文件的访问权限`mode`由进程的文件模式创建屏蔽字修改。
* `mkdirat`函数与`mkdir`函数类似。当`fd`参数具有特殊值`AT_FDCWD`或者pathname参数为绝对路径时，二者相同。否则，fd参数是一个打开目录，相对路径名根据此打开目录进行计算。

```c
#include <unistd.h>
// delete a directory
int rmdir(const char *pathname);
```

* 成功返回0，失败返回-1。
* 如果调用此函数使目录的链接计数成为0，并且也没有其他进程打开此目录，则释放由此目录占用的空间。如果在链接计数达到0时，有一个或多个进程打开此目录，则在此函数返回前删除最后一个链接及`.`和`..`。在此目录中不能再创建新文件。但是在最后一个进程关闭它之前并不释放此目录。
* 该函数要求目录为空。
