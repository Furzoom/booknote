# 文件截断

有时需要在文件尾端截去一些数据以缩短文件。将一个文件截断为0，在打开文件时使用`O_TRUNC`标志可以做到这一点。更一般的情况使用如下函数：

```c
#include <unistd.h>
int truncate(const char *pathname, off_t length);
int ftruncate(int fd, off_t length);
```

* 成功返回0，出错返回-1。

这两个函数将现有文件长度截断为length。如果该文件的原长度大于length，那么length之后的部分不能再访问。如果文件的原长度小于length，文件的长度增加，增加的部分读取为0，也可能在文件中创建了空洞。
