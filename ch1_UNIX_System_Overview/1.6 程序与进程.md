# 程序与进程

## 程序

程序(program)是存放在磁盘上、处于某个目录中的一个可执行文件。

## 进程与进程ID

程序的执行实例被称为进程(process)。UNIX系统确保每个进程都有一个唯一的数字标识符，称为进程ID(process ID)。


```c
#include <sys/types.h>
#include <unistd.h>
pid_t getpid();
pid_t getppid();
```

* `getpid()` returns the process id of the calling process.
* `getppid()` returns the process id of the parent of the calling process.

## 进程控制

有三个函数用于进程控制的主要函数：`fork`、`exec`、`waitpid`。


`exec`函数成功执行后，并不返回。


```c
#include <unistd.h>
pid_t fork();
```

* fork() creates a new process by duplicating the calling process.
* On success, the PID of the child process is returned in the parent, and 0 is returned in the child. On failed, -1 is returned in the parent, no child process is created, and errno is set appropriately.

## 线程与线程ID

通常一个进程只有一个控制线程(thread)，同一时刻只执行一组机器指令。在一个进程内的所有线程共享同一地址空间、文件描述符、栈以及与进程相关的属性。因为它们能访问同一存储区，所以各线程在访问共享数据时需要采取同步措施以避免不一致性。

线程也用ID标识，但只在它所属的进程内起作用。
