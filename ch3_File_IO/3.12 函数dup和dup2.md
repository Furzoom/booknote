# 函数dup和dup2

复制现存的文件描述符：

```c
#include <unistd.h>
int dup(int fd);
int dup2(int fd, int fd2);
```

* 成功返回新的文件描述符，出错返回-1。

dup返回的新文件描述符一定是当前可用文件描述符中最小值。dup2用fd2指定新的描述符值。如果fd2已经打开，则先将其关闭。如果fd与fd2相同，并不关闭它，直接返回。

![dup and dup2](http://i.imgur.com/ULu6q03.png)
