# 函数lseek

每个打开的文件都有一个与其相关联的当前文件偏移量(current file offset)。通常，读写操作都从当前文件偏移量处开始，并使偏移量增加所读写的字节数。
```c
#include <unistd.h>
off_t lseek(int fd, off_t offset, int whence);
```

* 若whence是`SEEK_SET`，则将该文件的偏移量设置为距文件开始处offset个字节。
* 若whence是`SEEK_CUR`，则将该文件的偏移量设置为其当前值加offset，offset可正可负。
* 若whence是`SEEK_END`，则将该文件的偏移量设置为文件长度加offset，offset可正可负。
* 成功返回新的文件偏移量，出错返回-1。

如果文件描述符指向的是一个管道、FIFO、网络套接字，则lseek返回-1，并将errno设置为ESPIPE。

lseek仅将当前的文件偏移量记录在内核中，它并不引起任何I/O操作。

当lseek将文件偏移量设置为大于文件长度时，下一次的写操作将增加文件的长度，并在文件中间构成一个空洞。文件中没有写过后字节都被读为0。

