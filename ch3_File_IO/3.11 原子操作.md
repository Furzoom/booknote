# 原子操作

原子操作(atomic operation)指的是由多步组成的操作。如果该操作原子地执行，则要么执行完成所有步骤，要么一步也不执行。

```c
#include <unistd.h>
ssize_t pread(int fd, void *buf, size_t nbytes, off_t offset);
ssize_t pwrite(int fd, const void *buf, size_t nbytes, off_t offset);
```

* 它们都是原子操作。
* pread成功返回读到的字节数，若到文件结尾返回0，出错返回-1。
* pwrite成功返回已写字节数，出错返回-1。

定位与读写操作不可中断，且不改变文件表(file table entry)的current file offset。
